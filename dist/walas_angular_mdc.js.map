{"version":3,"file":"walas_angular_mdc.js.map","sources":["../node_modules/@material/base/foundation.js","../node_modules/@material/base/component.js","../node_modules/@material/base/index.js","../node_modules/@material/ripple/adapter.js","../node_modules/@material/ripple/constants.js","../node_modules/@material/ripple/util.js","../node_modules/@material/ripple/foundation.js","../node_modules/@material/ripple/index.js","../node_modules/@material/textfield/constants.js","../node_modules/@material/textfield/foundation.js","../node_modules/@material/textfield/index.js","../src/packages/afinput/afinput.js"],"sourcesContent":["/**\n * Copyright 2016 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @template A\n */\nexport default class MDCFoundation {\n  /** @return enum{cssClasses} */\n  static get cssClasses() {\n    // Classes extending MDCFoundation should implement this method to return an object which exports every\n    // CSS class the foundation class needs as a property. e.g. {ACTIVE: 'mdc-component--active'}\n    return {};\n  }\n\n  /** @return enum{strings} */\n  static get strings() {\n    // Classes extending MDCFoundation should implement this method to return an object which exports all\n    // semantic strings as constants. e.g. {ARIA_ROLE: 'tablist'}\n    return {};\n  }\n\n  /** @return enum{numbers} */\n  static get numbers() {\n    // Classes extending MDCFoundation should implement this method to return an object which exports all\n    // of its semantic numbers as constants. e.g. {ANIMATION_DELAY_MS: 350}\n    return {};\n  }\n\n  /** @return {!Object} */\n  static get defaultAdapter() {\n    // Classes extending MDCFoundation may choose to implement this getter in order to provide a convenient\n    // way of viewing the necessary methods of an adapter. In the future, this could also be used for adapter\n    // validation.\n    return {};\n  }\n\n  /**\n   * @param {A=} adapter\n   */\n  constructor(adapter = {}) {\n    /** @protected {!A} */\n    this.adapter_ = adapter;\n  }\n\n  init() {\n    // Subclasses should override this method to perform initialization routines (registering events, etc.)\n  }\n\n  destroy() {\n    // Subclasses should override this method to perform de-initialization routines (de-registering events, etc.)\n  }\n}\n","/**\n * Copyright 2016 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport MDCFoundation from './foundation';\n\n/**\n * @template F\n */\nexport default class MDCComponent {\n  /**\n   * @param {!Element} root\n   * @return {!MDCComponent}\n   */\n  static attachTo(root) {\n    // Subclasses which extend MDCBase should provide an attachTo() method that takes a root element and\n    // returns an instantiated component with its root set to that element. Also note that in the cases of\n    // subclasses, an explicit foundation class will not have to be passed in; it will simply be initialized\n    // from getDefaultFoundation().\n    return new MDCComponent(root, new MDCFoundation());\n  }\n\n  /**\n   * @param {!Element} root\n   * @param {F=} foundation\n   * @param {...?} args\n   */\n  constructor(root, foundation = undefined, ...args) {\n    /** @protected {!Element} */\n    this.root_ = root;\n    this.initialize(...args);\n    // Note that we initialize foundation here and not within the constructor's default param so that\n    // this.root_ is defined and can be used within the foundation class.\n    /** @protected {!F} */\n    this.foundation_ = foundation === undefined ? this.getDefaultFoundation() : foundation;\n    this.foundation_.init();\n    this.initialSyncWithDOM();\n  }\n\n  initialize(/* ...args */) {\n    // Subclasses can override this to do any additional setup work that would be considered part of a\n    // \"constructor\". Essentially, it is a hook into the parent constructor before the foundation is\n    // initialized. Any additional arguments besides root and foundation will be passed in here.\n  }\n\n  /**\n   * @return {!F} foundation\n   */\n  getDefaultFoundation() {\n    // Subclasses must override this method to return a properly configured foundation class for the\n    // component.\n    throw new Error('Subclasses must override getDefaultFoundation to return a properly configured ' +\n      'foundation class');\n  }\n\n  initialSyncWithDOM() {\n    // Subclasses should override this method if they need to perform work to synchronize with a host DOM\n    // object. An example of this would be a form control wrapper that needs to synchronize its internal state\n    // to some property or attribute of the host DOM. Please note: this is *not* the place to perform DOM\n    // reads/writes that would cause layout / paint, as this is called synchronously from within the constructor.\n  }\n\n  destroy() {\n    // Subclasses may implement this method to release any resources / deregister any listeners they have\n    // attached. An example of this might be deregistering a resize event from the window object.\n    this.foundation_.destroy();\n  }\n\n  /**\n   * Wrapper method to add an event listener to the component's root element. This is most useful when\n   * listening for custom events.\n   * @param {string} evtType\n   * @param {!Function} handler\n   */\n  listen(evtType, handler) {\n    this.root_.addEventListener(evtType, handler);\n  }\n\n  /**\n   * Wrapper method to remove an event listener to the component's root element. This is most useful when\n   * unlistening for custom events.\n   * @param {string} evtType\n   * @param {!Function} handler\n   */\n  unlisten(evtType, handler) {\n    this.root_.removeEventListener(evtType, handler);\n  }\n\n  /**\n   * Fires a cross-browser-compatible custom event from the component root of the given type,\n   * with the given data.\n   * @param {string} evtType\n   * @param {!Object} evtData\n   * @param {boolean=} shouldBubble\n   */\n  emit(evtType, evtData, shouldBubble = false) {\n    let evt;\n    if (typeof CustomEvent === 'function') {\n      evt = new CustomEvent(evtType, {\n        detail: evtData,\n        bubbles: shouldBubble,\n      });\n    } else {\n      evt = document.createEvent('CustomEvent');\n      evt.initCustomEvent(evtType, shouldBubble, false, evtData);\n    }\n\n    this.root_.dispatchEvent(evt);\n  }\n}\n","/**\n * Copyright 2016 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport MDCFoundation from './foundation';\nimport MDCComponent from './component';\n\nexport {MDCFoundation, MDCComponent};\n","/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* eslint no-unused-vars: [2, {\"args\": \"none\"}] */\n\n/**\n * Adapter for MDC Ripple. Provides an interface for managing\n * - classes\n * - dom\n * - CSS variables\n * - position\n * - dimensions\n * - scroll position\n * - event handlers\n * - unbounded, active and disabled states\n *\n * Additionally, provides type information for the adapter to the Closure\n * compiler.\n *\n * Implement this adapter for your framework of choice to delegate updates to\n * the component in your framework of choice. See architecture documentation\n * for more details.\n * https://github.com/material-components/material-components-web/blob/master/docs/architecture.md\n *\n * @record\n */\nexport default class MDCRippleAdapter {\n  /** @return {boolean} */\n  browserSupportsCssVars() {}\n\n  /** @return {boolean} */\n  isUnbounded() {}\n\n  /** @return {boolean} */\n  isSurfaceActive() {}\n\n  /** @return {boolean} */\n  isSurfaceDisabled() {}\n\n  /** @param {string} className */\n  addClass(className) {}\n\n  /** @param {string} className */\n  removeClass(className) {}\n\n  /**\n   * @param {string} evtType\n   * @param {!Function} handler\n   */\n  registerInteractionHandler(evtType, handler) {}\n\n  /**\n   * @param {string} evtType\n   * @param {!Function} handler\n   */\n  deregisterInteractionHandler(evtType, handler) {}\n\n  /**\n   * @param {!Function} handler\n   */\n  registerResizeHandler(handler) {}\n\n  /**\n   * @param {!Function} handler\n   */\n  deregisterResizeHandler(handler) {}\n\n  /**\n   * @param {string} varName\n   * @param {?number|string} value\n   */\n  updateCssVariable(varName, value) {}\n\n  /** @return {!ClientRect} */\n  computeBoundingRect() {}\n\n  /** @return {{x: number, y: number}} */\n  getWindowPageOffset() {}\n}\n","/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport const cssClasses = {\n  // Ripple is a special case where the \"root\" component is really a \"mixin\" of sorts,\n  // given that it's an 'upgrade' to an existing component. That being said it is the root\n  // CSS class that all other CSS classes derive from.\n  ROOT: 'mdc-ripple-upgraded',\n  UNBOUNDED: 'mdc-ripple-upgraded--unbounded',\n  BG_FOCUSED: 'mdc-ripple-upgraded--background-focused',\n  BG_ACTIVE_FILL: 'mdc-ripple-upgraded--background-active-fill',\n  FG_ACTIVATION: 'mdc-ripple-upgraded--foreground-activation',\n  FG_DEACTIVATION: 'mdc-ripple-upgraded--foreground-deactivation',\n};\n\nexport const strings = {\n  VAR_SURFACE_WIDTH: '--mdc-ripple-surface-width',\n  VAR_SURFACE_HEIGHT: '--mdc-ripple-surface-height',\n  VAR_FG_SIZE: '--mdc-ripple-fg-size',\n  VAR_LEFT: '--mdc-ripple-left',\n  VAR_TOP: '--mdc-ripple-top',\n  VAR_FG_SCALE: '--mdc-ripple-fg-scale',\n  VAR_FG_TRANSLATE_START: '--mdc-ripple-fg-translate-start',\n  VAR_FG_TRANSLATE_END: '--mdc-ripple-fg-translate-end',\n};\n\nexport const numbers = {\n  PADDING: 10,\n  INITIAL_ORIGIN_SCALE: 0.6,\n  DEACTIVATION_TIMEOUT_MS: 300,\n  FG_DEACTIVATION_MS: 83,\n};\n","/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Stores result from supportsCssVariables to avoid redundant processing to detect CSS custom variable support.\n * @private {boolean|undefined}\n */\nlet supportsCssVariables_;\n\n/**\n * Stores result from applyPassive to avoid redundant processing to detect passive event listener support.\n * @private {boolean|undefined}\n */\nlet supportsPassive_;\n\n/**\n * @param {!Window} windowObj\n * @return {boolean}\n */\nfunction detectEdgePseudoVarBug(windowObj) {\n  // Detect versions of Edge with buggy var() support\n  // See: https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/11495448/\n  const document = windowObj.document;\n  const node = document.createElement('div');\n  node.className = 'mdc-ripple-surface--test-edge-var-bug';\n  document.body.appendChild(node);\n\n  // The bug exists if ::before style ends up propagating to the parent element.\n  // Additionally, getComputedStyle returns null in iframes with display: \"none\" in Firefox,\n  // but Firefox is known to support CSS custom properties correctly.\n  // See: https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n  const computedStyle = windowObj.getComputedStyle(node);\n  const hasPseudoVarBug = computedStyle !== null && computedStyle.borderTopStyle === 'solid';\n  node.remove();\n  return hasPseudoVarBug;\n}\n\n/**\n * @param {!Window} windowObj\n * @param {boolean=} forceRefresh\n * @return {boolean|undefined}\n */\nexport function supportsCssVariables(windowObj, forceRefresh = false) {\n  if (typeof supportsCssVariables_ === 'boolean' && !forceRefresh) {\n    return supportsCssVariables_;\n  }\n\n  const supportsFunctionPresent = windowObj.CSS && typeof windowObj.CSS.supports === 'function';\n  if (!supportsFunctionPresent) {\n    return;\n  }\n\n  const explicitlySupportsCssVars = windowObj.CSS.supports('--css-vars', 'yes');\n  // See: https://bugs.webkit.org/show_bug.cgi?id=154669\n  // See: README section on Safari\n  const weAreFeatureDetectingSafari10plus = (\n    windowObj.CSS.supports('(--css-vars: yes)') &&\n    windowObj.CSS.supports('color', '#00000000')\n  );\n\n  if (explicitlySupportsCssVars || weAreFeatureDetectingSafari10plus) {\n    supportsCssVariables_ = !detectEdgePseudoVarBug(windowObj);\n  } else {\n    supportsCssVariables_ = false;\n  }\n  return supportsCssVariables_;\n}\n\n//\n/**\n * Determine whether the current browser supports passive event listeners, and if so, use them.\n * @param {!Window=} globalObj\n * @param {boolean=} forceRefresh\n * @return {boolean|{passive: boolean}}\n */\nexport function applyPassive(globalObj = window, forceRefresh = false) {\n  if (supportsPassive_ === undefined || forceRefresh) {\n    let isSupported = false;\n    try {\n      globalObj.document.addEventListener('test', null, {get passive() {\n        isSupported = true;\n      }});\n    } catch (e) { }\n\n    supportsPassive_ = isSupported;\n  }\n\n  return supportsPassive_ ? {passive: true} : false;\n}\n\n/**\n * @param {!Object} HTMLElementPrototype\n * @return {!Array<string>}\n */\nexport function getMatchesProperty(HTMLElementPrototype) {\n  return [\n    'webkitMatchesSelector', 'msMatchesSelector', 'matches',\n  ].filter((p) => p in HTMLElementPrototype).pop();\n}\n\n/**\n * @param {!Event} ev\n * @param {!{x: number, y: number}} pageOffset\n * @param {!ClientRect} clientRect\n * @return {!{x: number, y: number}}\n */\nexport function getNormalizedEventCoords(ev, pageOffset, clientRect) {\n  const {x, y} = pageOffset;\n  const documentX = x + clientRect.left;\n  const documentY = y + clientRect.top;\n\n  let normalizedX;\n  let normalizedY;\n  // Determine touch point relative to the ripple container.\n  if (ev.type === 'touchstart') {\n    normalizedX = ev.changedTouches[0].pageX - documentX;\n    normalizedY = ev.changedTouches[0].pageY - documentY;\n  } else {\n    normalizedX = ev.pageX - documentX;\n    normalizedY = ev.pageY - documentY;\n  }\n\n  return {x: normalizedX, y: normalizedY};\n}\n","/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport MDCFoundation from '@material/base/foundation';\nimport MDCRippleAdapter from './adapter';\nimport {cssClasses, strings, numbers} from './constants';\nimport {getNormalizedEventCoords} from './util';\n\n/**\n * @typedef {!{\n *   isActivated: (boolean|undefined),\n *   hasDeactivationUXRun: (boolean|undefined),\n *   wasActivatedByPointer: (boolean|undefined),\n *   wasElementMadeActive: (boolean|undefined),\n *   activationStartTime: (number|undefined),\n *   activationEvent: Event,\n *   isProgrammatic: (boolean|undefined)\n * }}\n */\nlet ActivationStateType;\n\n/**\n * @typedef {!{\n *   activate: (string|undefined),\n *   deactivate: (string|undefined),\n *   focus: (string|undefined),\n *   blur: (string|undefined)\n * }}\n */\nlet ListenerInfoType;\n\n/**\n * @typedef {!{\n *   activate: function(!Event),\n *   deactivate: function(!Event),\n *   focus: function(),\n *   blur: function()\n * }}\n */\nlet ListenersType;\n\n/**\n * @typedef {!{\n *   x: number,\n *   y: number\n * }}\n */\nlet PointType;\n\n/**\n * @enum {string}\n */\nconst DEACTIVATION_ACTIVATION_PAIRS = {\n  mouseup: 'mousedown',\n  pointerup: 'pointerdown',\n  touchend: 'touchstart',\n  keyup: 'keydown',\n  blur: 'focus',\n};\n\n/**\n * @extends {MDCFoundation<!MDCRippleAdapter>}\n */\nexport default class MDCRippleFoundation extends MDCFoundation {\n  static get cssClasses() {\n    return cssClasses;\n  }\n\n  static get strings() {\n    return strings;\n  }\n\n  static get numbers() {\n    return numbers;\n  }\n\n  static get defaultAdapter() {\n    return {\n      browserSupportsCssVars: () => /* boolean - cached */ {},\n      isUnbounded: () => /* boolean */ {},\n      isSurfaceActive: () => /* boolean */ {},\n      isSurfaceDisabled: () => /* boolean */ {},\n      addClass: (/* className: string */) => {},\n      removeClass: (/* className: string */) => {},\n      registerInteractionHandler: (/* evtType: string, handler: EventListener */) => {},\n      deregisterInteractionHandler: (/* evtType: string, handler: EventListener */) => {},\n      registerResizeHandler: (/* handler: EventListener */) => {},\n      deregisterResizeHandler: (/* handler: EventListener */) => {},\n      updateCssVariable: (/* varName: string, value: string */) => {},\n      computeBoundingRect: () => /* ClientRect */ {},\n      getWindowPageOffset: () => /* {x: number, y: number} */ {},\n    };\n  }\n\n  /**\n   * We compute this property so that we are not querying information about the client\n   * until the point in time where the foundation requests it. This prevents scenarios where\n   * client-side feature-detection may happen too early, such as when components are rendered on the server\n   * and then initialized at mount time on the client.\n   * @return {boolean}\n   */\n  get isSupported_() {\n    return this.adapter_.browserSupportsCssVars();\n  }\n\n  constructor(adapter) {\n    super(Object.assign(MDCRippleFoundation.defaultAdapter, adapter));\n\n    /** @private {number} */\n    this.layoutFrame_ = 0;\n\n    /** @private {!ClientRect} */\n    this.frame_ = /** @type {!ClientRect} */ ({width: 0, height: 0});\n\n    /** @private {!ActivationStateType} */\n    this.activationState_ = this.defaultActivationState_();\n\n    /** @private {number} */\n    this.xfDuration_ = 0;\n\n    /** @private {number} */\n    this.initialSize_ = 0;\n\n    /** @private {number} */\n    this.maxRadius_ = 0;\n\n    /** @private {!Array<{ListenerInfoType}>} */\n    this.listenerInfos_ = [\n      {activate: 'touchstart', deactivate: 'touchend'},\n      {activate: 'pointerdown', deactivate: 'pointerup'},\n      {activate: 'mousedown', deactivate: 'mouseup'},\n      {activate: 'keydown', deactivate: 'keyup'},\n      {focus: 'focus', blur: 'blur'},\n    ];\n\n    /** @private {!ListenersType} */\n    this.listeners_ = {\n      activate: (e) => this.activate_(e),\n      deactivate: (e) => this.deactivate_(e),\n      focus: () => requestAnimationFrame(\n        () => this.adapter_.addClass(MDCRippleFoundation.cssClasses.BG_FOCUSED)\n      ),\n      blur: () => requestAnimationFrame(\n        () => this.adapter_.removeClass(MDCRippleFoundation.cssClasses.BG_FOCUSED)\n      ),\n    };\n\n    /** @private {!Function} */\n    this.resizeHandler_ = () => this.layout();\n\n    /** @private {!{left: number, top:number}} */\n    this.unboundedCoords_ = {\n      left: 0,\n      top: 0,\n    };\n\n    /** @private {number} */\n    this.fgScale_ = 0;\n\n    /** @private {number} */\n    this.activationTimer_ = 0;\n\n    /** @private {number} */\n    this.fgDeactivationRemovalTimer_ = 0;\n\n    /** @private {boolean} */\n    this.activationAnimationHasEnded_ = false;\n\n    /** @private {!Function} */\n    this.activationTimerCallback_ = () => {\n      this.activationAnimationHasEnded_ = true;\n      this.runDeactivationUXLogicIfReady_();\n    };\n  }\n\n  /**\n   * @return {!ActivationStateType}\n   */\n  defaultActivationState_() {\n    return {\n      isActivated: false,\n      hasDeactivationUXRun: false,\n      wasActivatedByPointer: false,\n      wasElementMadeActive: false,\n      activationStartTime: 0,\n      activationEvent: null,\n      isProgrammatic: false,\n    };\n  }\n\n  init() {\n    if (!this.isSupported_) {\n      return;\n    }\n    this.addEventListeners_();\n\n    const {ROOT, UNBOUNDED} = MDCRippleFoundation.cssClasses;\n    requestAnimationFrame(() => {\n      this.adapter_.addClass(ROOT);\n      if (this.adapter_.isUnbounded()) {\n        this.adapter_.addClass(UNBOUNDED);\n      }\n      this.layoutInternal_();\n    });\n  }\n\n  /** @private */\n  addEventListeners_() {\n    this.listenerInfos_.forEach((info) => {\n      Object.keys(info).forEach((k) => {\n        this.adapter_.registerInteractionHandler(info[k], this.listeners_[k]);\n      });\n    });\n    this.adapter_.registerResizeHandler(this.resizeHandler_);\n  }\n\n  /**\n   * @param {Event} e\n   * @private\n   */\n  activate_(e) {\n    if (this.adapter_.isSurfaceDisabled()) {\n      return;\n    }\n\n    const {activationState_: activationState} = this;\n    if (activationState.isActivated) {\n      return;\n    }\n\n    activationState.isActivated = true;\n    activationState.isProgrammatic = e === null;\n    activationState.activationEvent = e;\n    activationState.wasActivatedByPointer = activationState.isProgrammatic ? false : (\n      e.type === 'mousedown' || e.type === 'touchstart' || e.type === 'pointerdown'\n    );\n    activationState.activationStartTime = Date.now();\n\n    requestAnimationFrame(() => {\n      // This needs to be wrapped in an rAF call b/c web browsers\n      // report active states inconsistently when they're called within\n      // event handling code:\n      // - https://bugs.chromium.org/p/chromium/issues/detail?id=635971\n      // - https://bugzilla.mozilla.org/show_bug.cgi?id=1293741\n      activationState.wasElementMadeActive = (e && e.type === 'keydown') ? this.adapter_.isSurfaceActive() : true;\n      if (activationState.wasElementMadeActive) {\n        this.animateActivation_();\n      } else {\n        // Reset activation state immediately if element was not made active.\n        this.activationState_ = this.defaultActivationState_();\n      }\n    });\n  }\n\n  activate() {\n    this.activate_(null);\n  }\n\n  /** @private */\n  animateActivation_() {\n    const {VAR_FG_TRANSLATE_START, VAR_FG_TRANSLATE_END} = MDCRippleFoundation.strings;\n    const {\n      BG_ACTIVE_FILL,\n      FG_DEACTIVATION,\n      FG_ACTIVATION,\n    } = MDCRippleFoundation.cssClasses;\n    const {DEACTIVATION_TIMEOUT_MS} = MDCRippleFoundation.numbers;\n\n    let translateStart = '';\n    let translateEnd = '';\n\n    if (!this.adapter_.isUnbounded()) {\n      const {startPoint, endPoint} = this.getFgTranslationCoordinates_();\n      translateStart = `${startPoint.x}px, ${startPoint.y}px`;\n      translateEnd = `${endPoint.x}px, ${endPoint.y}px`;\n    }\n\n    this.adapter_.updateCssVariable(VAR_FG_TRANSLATE_START, translateStart);\n    this.adapter_.updateCssVariable(VAR_FG_TRANSLATE_END, translateEnd);\n    // Cancel any ongoing activation/deactivation animations\n    clearTimeout(this.activationTimer_);\n    clearTimeout(this.fgDeactivationRemovalTimer_);\n    this.rmBoundedActivationClasses_();\n    this.adapter_.removeClass(FG_DEACTIVATION);\n\n    // Force layout in order to re-trigger the animation.\n    this.adapter_.computeBoundingRect();\n    this.adapter_.addClass(BG_ACTIVE_FILL);\n    this.adapter_.addClass(FG_ACTIVATION);\n    this.activationTimer_ = setTimeout(() => this.activationTimerCallback_(), DEACTIVATION_TIMEOUT_MS);\n  }\n\n  /**\n   * @private\n   * @return {{startPoint: PointType, endPoint: PointType}}\n   */\n  getFgTranslationCoordinates_() {\n    const {activationState_: activationState} = this;\n    const {activationEvent, wasActivatedByPointer} = activationState;\n\n    let startPoint;\n    if (wasActivatedByPointer) {\n      startPoint = getNormalizedEventCoords(\n        /** @type {!Event} */ (activationEvent),\n        this.adapter_.getWindowPageOffset(), this.adapter_.computeBoundingRect()\n      );\n    } else {\n      startPoint = {\n        x: this.frame_.width / 2,\n        y: this.frame_.height / 2,\n      };\n    }\n    // Center the element around the start point.\n    startPoint = {\n      x: startPoint.x - (this.initialSize_ / 2),\n      y: startPoint.y - (this.initialSize_ / 2),\n    };\n\n    const endPoint = {\n      x: (this.frame_.width / 2) - (this.initialSize_ / 2),\n      y: (this.frame_.height / 2) - (this.initialSize_ / 2),\n    };\n\n    return {startPoint, endPoint};\n  }\n\n  /** @private */\n  runDeactivationUXLogicIfReady_() {\n    const {FG_DEACTIVATION} = MDCRippleFoundation.cssClasses;\n    const {hasDeactivationUXRun, isActivated} = this.activationState_;\n    const activationHasEnded = hasDeactivationUXRun || !isActivated;\n    if (activationHasEnded && this.activationAnimationHasEnded_) {\n      this.rmBoundedActivationClasses_();\n      this.adapter_.addClass(FG_DEACTIVATION);\n      this.fgDeactivationRemovalTimer_ = setTimeout(() => {\n        this.adapter_.removeClass(FG_DEACTIVATION);\n      }, numbers.FG_DEACTIVATION_MS);\n    }\n  }\n\n  /** @private */\n  rmBoundedActivationClasses_() {\n    const {BG_ACTIVE_FILL, FG_ACTIVATION} = MDCRippleFoundation.cssClasses;\n    this.adapter_.removeClass(BG_ACTIVE_FILL);\n    this.adapter_.removeClass(FG_ACTIVATION);\n    this.activationAnimationHasEnded_ = false;\n    this.adapter_.computeBoundingRect();\n  }\n\n  /**\n   * @param {Event} e\n   * @private\n   */\n  deactivate_(e) {\n    const {activationState_: activationState} = this;\n    // This can happen in scenarios such as when you have a keyup event that blurs the element.\n    if (!activationState.isActivated) {\n      return;\n    }\n    // Programmatic deactivation.\n    if (activationState.isProgrammatic) {\n      const evtObject = null;\n      const state = /** @type {!ActivationStateType} */ (Object.assign({}, activationState));\n      requestAnimationFrame(() => this.animateDeactivation_(evtObject, state));\n      this.activationState_ = this.defaultActivationState_();\n      return;\n    }\n\n    const actualActivationType = DEACTIVATION_ACTIVATION_PAIRS[e.type];\n    const expectedActivationType = activationState.activationEvent.type;\n    // NOTE: Pointer events are tricky - https://patrickhlauke.github.io/touch/tests/results/\n    // Essentially, what we need to do here is decouple the deactivation UX from the actual\n    // deactivation state itself. This way, touch/pointer events in sequence do not trample one\n    // another.\n    const needsDeactivationUX = actualActivationType === expectedActivationType;\n    let needsActualDeactivation = needsDeactivationUX;\n    if (activationState.wasActivatedByPointer) {\n      needsActualDeactivation = e.type === 'mouseup';\n    }\n\n    const state = /** @type {!ActivationStateType} */ (Object.assign({}, activationState));\n    requestAnimationFrame(() => {\n      if (needsDeactivationUX) {\n        this.activationState_.hasDeactivationUXRun = true;\n        this.animateDeactivation_(e, state);\n      }\n\n      if (needsActualDeactivation) {\n        this.activationState_ = this.defaultActivationState_();\n      }\n    });\n  }\n\n  deactivate() {\n    this.deactivate_(null);\n  }\n\n  /**\n   * @param {Event} e\n   * @param {!ActivationStateType} options\n   * @private\n   */\n  animateDeactivation_(e, {wasActivatedByPointer, wasElementMadeActive}) {\n    const {BG_FOCUSED} = MDCRippleFoundation.cssClasses;\n    if (wasActivatedByPointer || wasElementMadeActive) {\n      // Remove class left over by element being focused\n      this.adapter_.removeClass(BG_FOCUSED);\n      this.runDeactivationUXLogicIfReady_();\n    }\n  }\n\n  destroy() {\n    if (!this.isSupported_) {\n      return;\n    }\n    this.removeEventListeners_();\n\n    const {ROOT, UNBOUNDED} = MDCRippleFoundation.cssClasses;\n    requestAnimationFrame(() => {\n      this.adapter_.removeClass(ROOT);\n      this.adapter_.removeClass(UNBOUNDED);\n      this.removeCssVars_();\n    });\n  }\n\n  /** @private */\n  removeEventListeners_() {\n    this.listenerInfos_.forEach((info) => {\n      Object.keys(info).forEach((k) => {\n        this.adapter_.deregisterInteractionHandler(info[k], this.listeners_[k]);\n      });\n    });\n    this.adapter_.deregisterResizeHandler(this.resizeHandler_);\n  }\n\n  /** @private */\n  removeCssVars_() {\n    const {strings} = MDCRippleFoundation;\n    Object.keys(strings).forEach((k) => {\n      if (k.indexOf('VAR_') === 0) {\n        this.adapter_.updateCssVariable(strings[k], null);\n      }\n    });\n  }\n\n  layout() {\n    if (this.layoutFrame_) {\n      cancelAnimationFrame(this.layoutFrame_);\n    }\n    this.layoutFrame_ = requestAnimationFrame(() => {\n      this.layoutInternal_();\n      this.layoutFrame_ = 0;\n    });\n  }\n\n  /** @private */\n  layoutInternal_() {\n    this.frame_ = this.adapter_.computeBoundingRect();\n\n    const maxDim = Math.max(this.frame_.height, this.frame_.width);\n    const surfaceDiameter = Math.sqrt(Math.pow(this.frame_.width, 2) + Math.pow(this.frame_.height, 2));\n\n    // 60% of the largest dimension of the surface\n    this.initialSize_ = maxDim * MDCRippleFoundation.numbers.INITIAL_ORIGIN_SCALE;\n\n    // Diameter of the surface + 10px\n    this.maxRadius_ = surfaceDiameter + MDCRippleFoundation.numbers.PADDING;\n    this.fgScale_ = this.maxRadius_ / this.initialSize_;\n    this.xfDuration_ = 1000 * Math.sqrt(this.maxRadius_ / 1024);\n    this.updateLayoutCssVars_();\n  }\n\n  /** @private */\n  updateLayoutCssVars_() {\n    const {\n      VAR_SURFACE_WIDTH, VAR_SURFACE_HEIGHT, VAR_FG_SIZE,\n      VAR_LEFT, VAR_TOP, VAR_FG_SCALE,\n    } = MDCRippleFoundation.strings;\n\n    this.adapter_.updateCssVariable(VAR_SURFACE_WIDTH, `${this.frame_.width}px`);\n    this.adapter_.updateCssVariable(VAR_SURFACE_HEIGHT, `${this.frame_.height}px`);\n    this.adapter_.updateCssVariable(VAR_FG_SIZE, `${this.initialSize_}px`);\n    this.adapter_.updateCssVariable(VAR_FG_SCALE, this.fgScale_);\n\n    if (this.adapter_.isUnbounded()) {\n      this.unboundedCoords_ = {\n        left: Math.round((this.frame_.width / 2) - (this.initialSize_ / 2)),\n        top: Math.round((this.frame_.height / 2) - (this.initialSize_ / 2)),\n      };\n\n      this.adapter_.updateCssVariable(VAR_LEFT, `${this.unboundedCoords_.left}px`);\n      this.adapter_.updateCssVariable(VAR_TOP, `${this.unboundedCoords_.top}px`);\n    }\n  }\n}\n","/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport MDCComponent from '@material/base/component';\nimport MDCRippleAdapter from './adapter';\nimport MDCRippleFoundation from './foundation';\nimport * as util from './util';\n\nexport {MDCRippleFoundation};\nexport {util};\n\n/**\n * @extends MDCComponent<!MDCRippleFoundation>\n */\nexport class MDCRipple extends MDCComponent {\n  /** @param {...?} args */\n  constructor(...args) {\n    super(...args);\n\n    /** @type {boolean} */\n    this.disabled = false;\n\n    /** @private {boolean} */\n    this.unbounded_;\n  }\n\n  /**\n   * @param {!Element} root\n   * @param {{isUnbounded: (boolean|undefined)}=} options\n   * @return {!MDCRipple}\n   */\n  static attachTo(root, {isUnbounded = undefined} = {}) {\n    const ripple = new MDCRipple(root);\n    // Only override unbounded behavior if option is explicitly specified\n    if (isUnbounded !== undefined) {\n      ripple.unbounded = /** @type {boolean} */ (isUnbounded);\n    }\n    return ripple;\n  }\n\n  /**\n   * @param {!RippleCapableSurface} instance\n   * @return {!MDCRippleAdapter}\n   */\n  static createAdapter(instance) {\n    const MATCHES = util.getMatchesProperty(HTMLElement.prototype);\n\n    return {\n      browserSupportsCssVars: () => util.supportsCssVariables(window),\n      isUnbounded: () => instance.unbounded,\n      isSurfaceActive: () => instance.root_[MATCHES](':active'),\n      isSurfaceDisabled: () => instance.disabled,\n      addClass: (className) => instance.root_.classList.add(className),\n      removeClass: (className) => instance.root_.classList.remove(className),\n      registerInteractionHandler: (evtType, handler) =>\n        instance.root_.addEventListener(evtType, handler, util.applyPassive()),\n      deregisterInteractionHandler: (evtType, handler) =>\n        instance.root_.removeEventListener(evtType, handler, util.applyPassive()),\n      registerResizeHandler: (handler) => window.addEventListener('resize', handler),\n      deregisterResizeHandler: (handler) => window.removeEventListener('resize', handler),\n      updateCssVariable: (varName, value) => instance.root_.style.setProperty(varName, value),\n      computeBoundingRect: () => instance.root_.getBoundingClientRect(),\n      getWindowPageOffset: () => ({x: window.pageXOffset, y: window.pageYOffset}),\n    };\n  }\n\n  /** @return {boolean} */\n  get unbounded() {\n    return this.unbounded_;\n  }\n\n  /** @param {boolean} unbounded */\n  set unbounded(unbounded) {\n    const {UNBOUNDED} = MDCRippleFoundation.cssClasses;\n    this.unbounded_ = Boolean(unbounded);\n    if (this.unbounded_) {\n      this.root_.classList.add(UNBOUNDED);\n    } else {\n      this.root_.classList.remove(UNBOUNDED);\n    }\n  }\n\n  activate() {\n    this.foundation_.activate();\n  }\n\n  deactivate() {\n    this.foundation_.deactivate();\n  }\n\n  layout() {\n    this.foundation_.layout();\n  }\n\n  /** @return {!MDCRippleFoundation} */\n  getDefaultFoundation() {\n    return new MDCRippleFoundation(MDCRipple.createAdapter(this));\n  }\n\n  initialSyncWithDOM() {\n    this.unbounded = 'mdcRippleIsUnbounded' in this.root_.dataset;\n  }\n}\n\n/**\n * See Material Design spec for more details on when to use ripples.\n * https://material.io/guidelines/motion/choreography.html#choreography-creation\n * @record\n */\nclass RippleCapableSurface {}\n\n/** @protected {!Element} */\nRippleCapableSurface.prototype.root_;\n\n/**\n * Whether or not the ripple bleeds out of the bounds of the element.\n * @type {boolean|undefined}\n */\nRippleCapableSurface.prototype.unbounded;\n\n/**\n * Whether or not the ripple is attached to a disabled component.\n * @type {boolean|undefined}\n */\nRippleCapableSurface.prototype.disabled;\n","/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport const strings = {\n  ARIA_HIDDEN: 'aria-hidden',\n  ROLE: 'role',\n  INPUT_SELECTOR: '.mdc-textfield__input',\n  LABEL_SELECTOR: '.mdc-textfield__label',\n};\n\nexport const cssClasses = {\n  ROOT: 'mdc-textfield',\n  UPGRADED: 'mdc-textfield--upgraded',\n  DISABLED: 'mdc-textfield--disabled',\n  FOCUSED: 'mdc-textfield--focused',\n  INVALID: 'mdc-textfield--invalid',\n  HELPTEXT_PERSISTENT: 'mdc-textfield-helptext--persistent',\n  HELPTEXT_VALIDATION_MSG: 'mdc-textfield-helptext--validation-msg',\n  LABEL_FLOAT_ABOVE: 'mdc-textfield__label--float-above',\n  BOX: 'mdc-textfield--box',\n};\n","/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {MDCFoundation} from '@material/base';\nimport {cssClasses, strings} from './constants';\n\nexport default class MDCTextfieldFoundation extends MDCFoundation {\n  static get cssClasses() {\n    return cssClasses;\n  }\n\n  static get strings() {\n    return strings;\n  }\n\n  static get defaultAdapter() {\n    return {\n      addClass: (/* className: string */) => {},\n      removeClass: (/* className: string */) => {},\n      addClassToLabel: (/* className: string */) => {},\n      removeClassFromLabel: (/* className: string */) => {},\n      addClassToHelptext: (/* className: string */) => {},\n      removeClassFromHelptext: (/* className: string */) => {},\n      helptextHasClass: (/* className: string */) => /* boolean */ false,\n      registerInputFocusHandler: (/* handler: EventListener */) => {},\n      deregisterInputFocusHandler: (/* handler: EventListener */) => {},\n      registerInputBlurHandler: (/* handler: EventListener */) => {},\n      deregisterInputBlurHandler: (/* handler: EventListener */) => {},\n      registerInputInputHandler: (/* handler: EventListener */) => {},\n      deregisterInputInputHandler: (/* handler: EventListener */) => {},\n      registerInputKeydownHandler: (/* handler: EventListener */) => {},\n      deregisterInputKeydownHandler: (/* handler: EventListener */) => {},\n      setHelptextAttr: (/* name: string, value: string */) => {},\n      removeHelptextAttr: (/* name: string */) => {},\n      getNativeInput: () => /* HTMLInputElement */ ({}),\n    };\n  }\n\n  constructor(adapter = {}) {\n    super(Object.assign(MDCTextfieldFoundation.defaultAdapter, adapter));\n\n    this.receivedUserInput_ = false;\n    this.inputFocusHandler_ = () => this.activateFocus_();\n    this.inputBlurHandler_ = () => this.deactivateFocus_();\n    this.inputInputHandler_ = () => this.autoCompleteFocus_();\n    this.inputKeydownHandler_ = () => this.receivedUserInput_ = true;\n    this.useCustomValidityChecking_ = false;\n  }\n\n  init() {\n    this.adapter_.addClass(MDCTextfieldFoundation.cssClasses.UPGRADED);\n    this.adapter_.registerInputFocusHandler(this.inputFocusHandler_);\n    this.adapter_.registerInputBlurHandler(this.inputBlurHandler_);\n    this.adapter_.registerInputInputHandler(this.inputInputHandler_);\n    this.adapter_.registerInputKeydownHandler(this.inputKeydownHandler_);\n\n    // Ensure label does not collide with any pre-filled value.\n    if (this.getNativeInput_().value) {\n      this.adapter_.addClassToLabel(MDCTextfieldFoundation.cssClasses.LABEL_FLOAT_ABOVE);\n    }\n  }\n\n  destroy() {\n    this.adapter_.removeClass(MDCTextfieldFoundation.cssClasses.UPGRADED);\n    this.adapter_.deregisterInputFocusHandler(this.inputFocusHandler_);\n    this.adapter_.deregisterInputBlurHandler(this.inputBlurHandler_);\n    this.adapter_.deregisterInputInputHandler(this.inputInputHandler_);\n    this.adapter_.deregisterInputKeydownHandler(this.inputKeydownHandler_);\n  }\n\n  activateFocus_() {\n    const {FOCUSED, LABEL_FLOAT_ABOVE} = MDCTextfieldFoundation.cssClasses;\n    this.adapter_.addClass(FOCUSED);\n    this.adapter_.addClassToLabel(LABEL_FLOAT_ABOVE);\n    this.showHelptext_();\n  }\n\n  autoCompleteFocus_() {\n    if (!this.receivedUserInput_) {\n      this.activateFocus_();\n    }\n  }\n\n  showHelptext_() {\n    const {ARIA_HIDDEN} = MDCTextfieldFoundation.strings;\n    this.adapter_.removeHelptextAttr(ARIA_HIDDEN);\n  }\n\n  deactivateFocus_() {\n    const {FOCUSED, LABEL_FLOAT_ABOVE} = MDCTextfieldFoundation.cssClasses;\n    const input = this.getNativeInput_();\n\n    this.adapter_.removeClass(FOCUSED);\n    if (!input.value && !this.isBadInput_()) {\n      this.adapter_.removeClassFromLabel(LABEL_FLOAT_ABOVE);\n      this.receivedUserInput_ = false;\n    }\n    if (!this.useCustomValidityChecking_) {\n      this.changeValidity_(input.checkValidity());\n    }\n  }\n\n  changeValidity_(isValid) {\n    const {INVALID} = MDCTextfieldFoundation.cssClasses;\n    if (isValid) {\n      this.adapter_.removeClass(INVALID);\n    } else {\n      this.adapter_.addClass(INVALID);\n    }\n    this.updateHelptext_(isValid);\n  }\n\n  updateHelptext_(isValid) {\n    const {HELPTEXT_PERSISTENT, HELPTEXT_VALIDATION_MSG} = MDCTextfieldFoundation.cssClasses;\n    const {ROLE} = MDCTextfieldFoundation.strings;\n    const helptextIsPersistent = this.adapter_.helptextHasClass(HELPTEXT_PERSISTENT);\n    const helptextIsValidationMsg = this.adapter_.helptextHasClass(HELPTEXT_VALIDATION_MSG);\n    const validationMsgNeedsDisplay = helptextIsValidationMsg && !isValid;\n\n    if (validationMsgNeedsDisplay) {\n      this.adapter_.setHelptextAttr(ROLE, 'alert');\n    } else {\n      this.adapter_.removeHelptextAttr(ROLE);\n    }\n\n    if (helptextIsPersistent || validationMsgNeedsDisplay) {\n      return;\n    }\n    this.hideHelptext_();\n  }\n\n  hideHelptext_() {\n    const {ARIA_HIDDEN} = MDCTextfieldFoundation.strings;\n    this.adapter_.setHelptextAttr(ARIA_HIDDEN, 'true');\n  }\n\n  isBadInput_() {\n    const input = this.getNativeInput_();\n    return input.validity ? input.validity.badInput : input.badInput;\n  }\n\n  isDisabled() {\n    return this.getNativeInput_().disabled;\n  }\n\n  setDisabled(disabled) {\n    const {DISABLED} = MDCTextfieldFoundation.cssClasses;\n    this.getNativeInput_().disabled = disabled;\n    if (disabled) {\n      this.adapter_.addClass(DISABLED);\n    } else {\n      this.adapter_.removeClass(DISABLED);\n    }\n  }\n\n  getNativeInput_() {\n    return this.adapter_.getNativeInput() || {\n      checkValidity: () => true,\n      value: '',\n      disabled: false,\n      badInput: false,\n    };\n  }\n\n  setValid(isValid) {\n    this.useCustomValidityChecking_ = true;\n    this.changeValidity_(isValid);\n  }\n}\n","/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {MDCComponent} from '@material/base';\nimport {MDCRipple} from '@material/ripple';\n\nimport {cssClasses, strings} from './constants';\nimport MDCTextfieldFoundation from './foundation';\n\nexport {MDCTextfieldFoundation};\n\nexport class MDCTextfield extends MDCComponent {\n  static attachTo(root) {\n    return new MDCTextfield(root);\n  }\n\n  initialize(rippleFactory = (el) => new MDCRipple(el)) {\n    this.input_ = this.root_.querySelector(strings.INPUT_SELECTOR);\n    this.label_ = this.root_.querySelector(strings.LABEL_SELECTOR);\n    this.helptextElement = null;\n    this.ripple = null;\n    if (this.input_.hasAttribute('aria-controls')) {\n      this.helptextElement = document.getElementById(this.input_.getAttribute('aria-controls'));\n    }\n    if (this.root_.classList.contains(cssClasses.BOX)) {\n      this.ripple = rippleFactory(this.root_);\n    };\n  }\n\n  destroy() {\n    if (this.ripple) {\n      this.ripple.destroy();\n    }\n    super.destroy();\n  }\n\n  initialSyncWithDom() {\n    this.disabled = this.input_.disabled;\n  }\n\n  get disabled() {\n    return this.foundation_.isDisabled();\n  }\n\n  set disabled(disabled) {\n    this.foundation_.setDisabled(disabled);\n  }\n\n  set valid(valid) {\n    this.foundation_.setValid(valid);\n  }\n\n  getDefaultFoundation() {\n    return new MDCTextfieldFoundation(Object.assign({\n      addClass: (className) => this.root_.classList.add(className),\n      removeClass: (className) => this.root_.classList.remove(className),\n      addClassToLabel: (className) => {\n        const label = this.label_;\n        if (label) {\n          label.classList.add(className);\n        }\n      },\n      removeClassFromLabel: (className) => {\n        const label = this.label_;\n        if (label) {\n          label.classList.remove(className);\n        }\n      },\n    }, this.getInputAdapterMethods_(), this.getHelptextAdapterMethods_()));\n  }\n\n  getInputAdapterMethods_() {\n    return {\n      registerInputFocusHandler: (handler) => this.input_.addEventListener('focus', handler),\n      registerInputBlurHandler: (handler) => this.input_.addEventListener('blur', handler),\n      registerInputInputHandler: (handler) => this.input_.addEventListener('input', handler),\n      registerInputKeydownHandler: (handler) => this.input_.addEventListener('keydown', handler),\n      deregisterInputFocusHandler: (handler) => this.input_.removeEventListener('focus', handler),\n      deregisterInputBlurHandler: (handler) => this.input_.removeEventListener('blur', handler),\n      deregisterInputInputHandler: (handler) => this.input_.removeEventListener('input', handler),\n      deregisterInputKeydownHandler: (handler) => this.input_.removeEventListener('keydown', handler),\n      getNativeInput: () => this.input_,\n    };\n  }\n\n  getHelptextAdapterMethods_() {\n    return {\n      addClassToHelptext: (className) => {\n        if (this.helptextElement) {\n          this.helptextElement.classList.add(className);\n        }\n      },\n      removeClassFromHelptext: (className) => {\n        if (this.helptextElement) {\n          this.helptextElement.classList.remove(className);\n        }\n      },\n      helptextHasClass: (className) => {\n        if (!this.helptextElement) {\n          return false;\n        }\n        return this.helptextElement.classList.contains(className);\n      },\n      setHelptextAttr: (name, value) => {\n        if (this.helptextElement) {\n          this.helptextElement.setAttribute(name, value);\n        }\n      },\n      removeHelptextAttr: (name) => {\n        if (this.helptextElement) {\n          this.helptextElement.removeAttribute(name);\n        }\n      },\n    };\n  }\n}\n","import {Component, Input, ViewChild, FormService} from '@walas/angular-core';\nimport * as textfield from '@material/textfield';\nimport html from './afinput.html';\n@Component({\n    selector: 'af-input',\n    template: html\n})\nexport class AfInput {\n    @Input() text = null;\n    @Input() rule = null;\n    @ViewChild('container') container;\n    @ViewChild('control') control;\n    mdcComponent = null;\n    target = null;\n    prop = null;\n    name = null;\n    constructor(formService: FormService) {\n        this.formService = formService;\n        this.nativeElement = null;\n        this.inputElement = null;\n    }\n    getProp(target, prop) {\n        return target[prop];\n    }\n    setProp(target, prop, value) {\n        target[prop] = value;\n    }\n    setValidity = (valid) => {\n        if (!this.control.dirty) return;\n        let validity = valid ? '' : 'invalid';\n        this.inputElement.setCustomValidity(validity);\n        // if (!valid) this.setProp(this.target, this.prop, undefined);\n    }\n    getErrorNames() {\n        return Object.keys(this.control.errors || {});\n    }\n    ngOnInit() {\n        if (!this.container) {\n            throw new Error('No container');\n        }\n        this.nativeElement = this.container.nativeElement;\n        this.inputElement = this.nativeElement.children[0];\n    }\n    ngAfterViewInit() {\n        this.formService.addControl(this.name, this.control);\n        this.mdcComponent = new textfield.MDCTextfield(this.nativeElement);\n    }\n    ngOnDestroy() {\n        this.mdcComponent && this.mdlComponent.destroy();\n        this.nativeElement = null;\n        this.inputElement = null;\n    }\n}"],"names":["MDCFoundation","adapter","adapter_","MDCComponent","root","foundation","undefined","root_","args","initialize","foundation_","getDefaultFoundation","init","initialSyncWithDOM","Error","destroy","evtType","handler","addEventListener","removeEventListener","evtData","shouldBubble","evt","CustomEvent","document","createEvent","initCustomEvent","dispatchEvent","MDCRippleAdapter","className","varName","value","cssClasses","strings","numbers","supportsCssVariables_","supportsPassive_","detectEdgePseudoVarBug","windowObj","node","createElement","body","appendChild","computedStyle","getComputedStyle","hasPseudoVarBug","borderTopStyle","remove","supportsCssVariables","forceRefresh","supportsFunctionPresent","CSS","supports","explicitlySupportsCssVars","weAreFeatureDetectingSafari10plus","applyPassive","globalObj","window","isSupported","passive","e","getMatchesProperty","HTMLElementPrototype","filter","p","pop","getNormalizedEventCoords","ev","pageOffset","clientRect","x","y","documentX","left","documentY","top","normalizedX","normalizedY","type","changedTouches","pageX","pageY","DEACTIVATION_ACTIVATION_PAIRS","MDCRippleFoundation","browserSupportsCssVars","Object","assign","defaultAdapter","layoutFrame_","frame_","width","height","activationState_","defaultActivationState_","xfDuration_","initialSize_","maxRadius_","listenerInfos_","activate","deactivate","focus","blur","listeners_","activate_","deactivate_","requestAnimationFrame","addClass","BG_FOCUSED","removeClass","resizeHandler_","layout","unboundedCoords_","fgScale_","activationTimer_","fgDeactivationRemovalTimer_","activationAnimationHasEnded_","activationTimerCallback_","runDeactivationUXLogicIfReady_","isSupported_","addEventListeners_","ROOT","UNBOUNDED","isUnbounded","layoutInternal_","forEach","info","keys","k","registerInteractionHandler","registerResizeHandler","isSurfaceDisabled","activationState","isActivated","isProgrammatic","activationEvent","wasActivatedByPointer","activationStartTime","Date","now","wasElementMadeActive","isSurfaceActive","animateActivation_","VAR_FG_TRANSLATE_START","VAR_FG_TRANSLATE_END","BG_ACTIVE_FILL","FG_DEACTIVATION","FG_ACTIVATION","DEACTIVATION_TIMEOUT_MS","translateStart","translateEnd","getFgTranslationCoordinates_","startPoint","endPoint","updateCssVariable","rmBoundedActivationClasses_","computeBoundingRect","setTimeout","getWindowPageOffset","hasDeactivationUXRun","activationHasEnded","FG_DEACTIVATION_MS","evtObject","state","animateDeactivation_","actualActivationType","expectedActivationType","needsDeactivationUX","needsActualDeactivation","removeEventListeners_","removeCssVars_","deregisterInteractionHandler","deregisterResizeHandler","indexOf","maxDim","Math","max","surfaceDiameter","sqrt","pow","INITIAL_ORIGIN_SCALE","PADDING","updateLayoutCssVars_","VAR_SURFACE_WIDTH","VAR_SURFACE_HEIGHT","VAR_FG_SIZE","VAR_LEFT","VAR_TOP","VAR_FG_SCALE","round","MDCRipple","disabled","unbounded_","createAdapter","unbounded","dataset","Boolean","classList","add","ripple","instance","MATCHES","util","HTMLElement","prototype","style","setProperty","getBoundingClientRect","pageXOffset","pageYOffset","MDCTextfieldFoundation","receivedUserInput_","inputFocusHandler_","activateFocus_","inputBlurHandler_","deactivateFocus_","inputInputHandler_","autoCompleteFocus_","inputKeydownHandler_","useCustomValidityChecking_","UPGRADED","registerInputFocusHandler","registerInputBlurHandler","registerInputInputHandler","registerInputKeydownHandler","getNativeInput_","addClassToLabel","LABEL_FLOAT_ABOVE","deregisterInputFocusHandler","deregisterInputBlurHandler","deregisterInputInputHandler","deregisterInputKeydownHandler","FOCUSED","showHelptext_","ARIA_HIDDEN","removeHelptextAttr","input","isBadInput_","removeClassFromLabel","changeValidity_","checkValidity","isValid","INVALID","updateHelptext_","HELPTEXT_PERSISTENT","HELPTEXT_VALIDATION_MSG","ROLE","helptextIsPersistent","helptextHasClass","helptextIsValidationMsg","validationMsgNeedsDisplay","setHelptextAttr","hideHelptext_","validity","badInput","DISABLED","getNativeInput","MDCTextfield","rippleFactory","el","input_","querySelector","INPUT_SELECTOR","label_","LABEL_SELECTOR","helptextElement","hasAttribute","getElementById","getAttribute","contains","BOX","label","getInputAdapterMethods_","getHelptextAdapterMethods_","name","setAttribute","removeAttribute","isDisabled","setDisabled","valid","setValid","AfInput","Component","html","Input","ViewChild","formService","mdcComponent","target","prop","setValidity","control","dirty","inputElement","setCustomValidity","nativeElement","errors","container","children","addControl","textfield","mdlComponent","FormService"],"mappings":"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"}